**自我介绍**

​        2018年5月加入凤凰网，在平台研发中心自媒体组主要负责自媒体发文平台、内容生产系统以及发抄袭服务的开发。

自媒体发文平台主要包括功能模块有自媒体作者注册入驻、内容发布（手动发布、（其中内容包括文章、视频、图集）绑定抓取源抓取同步内容）、内容列表管理、统计数据查看模块、评论管理、收益提现模块、以及积分和增值功能模块。

内容生产系统主要针对作者端发文或者抓取源抓取的内容做清洗、本地化、转码、送审、上线、分发等流程上的处理。同时还为新闻客户端提供一些内容查询的接口，包括内容详情和内容列表的查询。

反抄袭服务主要是针对内容做相似匹配服务。

 在工作中主要参与的工作是需求分析、前期数据准备和准确性评估、编码、测试、上线，以及后期的重构优化及维护；

​       再往前一家是2016年10月到2018年5月在久亿恒远任职，主要参与的是信贷审核系统以及能卡APP的后端服务的开发。

​       主要使用的是java技术栈，包括vertx框架和常用的springboot/ mybatis框架，数据库主要用的mysql，mongo，常用的kafka以及redis中间件，用到过spring cloud以及dubbo这样的rpc框架。



**1. 如何使用aop实现读写分离**

\1. 使用annotation定义标识数据源的注解； write/read/other

2.定义切面，切入点在service实现层的、前置增强在对进入方法前根据对应的注解设置放到ThreadLocal中、后置处理从ThreadLocal清除对应的注解；我们使用threadLocal以及linkedList持有线程的数据源副本；

\3. 继承spring的 AbstractRouingDataSource，**实现动态数据源**。**determineCurrentLookupKey**方法根据注解从linkedList获取对应的数据源

**2. 最熟悉的项目介绍下吧**

 

**服务介绍：**

课程和题库服务、他是尚德为学员查看课程和练习做题的平台， 主要分为多个场景，课上的随堂考，课后作业练习、平时按照章节练习、收藏练习、错题练习、智能练习（根据你之前的错题和收藏采用一定的算法给你推题）、群作业；主要功能接口包括知识点列表、科目列表、试卷内容、试题列表、交卷接口、结果页、解析页、排行榜接口；

主app的活跃用户大概是25万，

每天大概300节直播课，大概直播和重播15万左右的观看记录。

大概800到3000万的做题需求，

整个服务的qps可以达到6000到8000左右；

服务节点是12个；

**服务架构**

主题框架是 java的 springMVC+mybatis    服务节点是12个；

数据库采用的是一主4从，3T的ssd机器

请求服务，为了缓解主库的压力，使用springAop实现了读写分离；

使用sharding jdbc实现了横向分表

其次使用redis，实现了热点数据缓存，使用gzip压缩了json串，释放了大量的内存空间；

使用thrift调用其它服务的比如订单、学期、课程数据

使用kafka完成了给数据中心同步数据，异步操作，缓解了交卷压力；

使用es 完成了日志数据的存储；

用nginx做反向代理

**3. 用户缓存项目**

 该项目主要是为了解决接口中用户缓存信息更新不及时的问题，后续为了解决表中数据发生变化通知业务方进行业务处理的功能。

 亮点在于，可以根据业务的增删改查进行响应的业务处理，监控的表以及字段都可以动态调整；发送的topic可以存储到库里，然后动态的新增；

发送消息队列可以做好多用处，比如最初是更新用户缓存，后比如我们的科目信息发生变化后要通知订单中心，就是采用的这种策略；

**4. 单点登录系统**

该系主要是采用cas实现的sso，一处登陆，处处可用的效果；

主要用扫码登录、短信验证码登录、密码登录；

**原理**

**第一次**

\1. 浏览器获取  A系统的资源，服务cookie中没有sessionId也没有携带ticket，那就重定向到casServer   http://sso.abc.com?service=http://a.abc.com

\2.  casServer端 发现请求的cookie中并没有TGT返给你登录页面, 来登录吧

\3. 浏览器输入账号密码，返回到casServer进行验证；

\4. 验证通过后，casServer发放该请求的ticket，同时在服务端设置TGT，然后 Redirect到 http://pr.abc.com/?ticket=ST-14041-VbqemTxMkTGbDtzyI3vk-cas01.example.org；

\5. A系统发现 Client1又来访问我了，这次带了ticket去CAS Server验证一下

\6. server端验证，是我发放的ticket，给他资源吧

\7. A系统设置和client1的cookie；返回Client1请求的资源

**第二次**

1 访问Client2 http://B.abc.com, B系统发现Cookie中没有sessionid，也没有携带ticket，给你重定向到CAS Server登录吧 [http://sso.abc.com?service=http://b.abc.com](http://sso.abc.com?service=http://a.abc.com)

\2. 有请求来访问我了,发现请求的cookie中有我签发的TGT，已经登陆了,给你个ST,重定向到client2吧 

http://ehr.abc.com?ticket=ST-12061-VdfHfgTxMkTGbDtzyI3vk-cas01.example.org

\3. Redirect:Client2

http://ehr.abc.com?ticket=ST-12061-VdfHfgTxMkTGbDtzyI3vk-cas01.example.org

\4. 这次带了ticket，去CAS Server验证一下

\5. server端验证，是我发放的ticket，给他资源吧

\6. A系统设置和client2的cookie；返回Client2请求的资源



# 面试注意事项

- 千万不要迟到
- 电话面试要注意周围环境
- 了解下要面试的公司

# 简历注意事项

- 简历要对每个公司单独修改
- star法则： 场景、任务、行为、结果
- 要展现自己用了什么技术、展现自己的核心竞争力
- 简历不要太长、不要超过2页
- 不会的东西不要往简历中写

# 面试中遇到的问题

- 自我介绍要简短 1-2分钟
- 不会的问题不要硬撑
- 会的技术要详细的讲解，结合自己的使用
- 问下自己的组是干什么的，用到什么技术，组的人员架构，我到那是什么角色

# 为什么离职

1. 岗位不合适，本来说的我是干这个，进来后干另一个。干了4个月
2. 干了两年多了。从业务开始、到发展、到现在比较稳定，后期主要是维护的工作，没有太多的技术成长空间。
3. 

# 自己的缺点

- 自己对自己的小组员代码要求比较严格；
- 性格比较急，比如有任务的事时候比较急，容易有压力；

# 自己的优点

- 自己责任心比较强，相对比较细，这样会导致进度相对慢点；

# 自己的职业规划

- 做些有挑战性的工作；
- 做点技术相关的工作；
- 

# 常见的问题

1. 为什么想加入我们公司？

- 公司平台大，我确实比较喜欢你们的公司。而且在大公司希望可以遇到一些优秀的人，技术大牛，和他们相处，可以相互讨论、学习，能促进自己的进步。
- 我做过一些相关的高并发的业务，能胜任工作
- 

# 工资的组成

1. 月薪+绩效 +年底的双薪

# 项目介绍

对项目整体感受、

负责什么、做了什么、担任的角色

学到了什么

使用什么技术、解决了什么问题

# 最大贡献是什么



#出现 OOME 时生成堆 dump:

-XX:+HeapDumpOnOutOfMemoryError

#生成堆文件地址：

-XX:HeapDumpPath=/home/liuke/jvmlogs/

使用jvisualvm.exe分析dump文件

1、一次JVM堆内存溢出的问题排查：java.lang.OutOfMemoryError:Java heap space，java.lang.OutOfMemoryError: PermGen space，StackOverFlowError
收到监控报警，服务有一个实例重启，为什么重启（到公司确认下）
首先看下promethues监控，观察到有频繁FullGC，老年代内存有明显上升的现象。
查看日志，搜索OutOfMemoryError关键字，找到对应的异常查看堆栈信息，定位到业务代码位置。是因为加载大文件导致的，图片的像素点较多，byte[]
根据日志打印的图片地址参数，想着本地启动项目复现下这个问题，启动时加上启动参数-XX:+HeapDumpOnOutOfMemoryError 生成堆 dump文件，-XX:HeapDumpPath=/home/liuke/jvmlogs/生成dump文件地址。然后jvm自带工具jvisualvm.exe分析dump文件，定位到确实是和日志打印信息一致。然后再次观察promethus监控，可以看到进行FullGC暂停时长是多少，达到
找了一个压缩图片的包引入，把图片进行压缩后再计算。

（3分钟内，G1 Humongous Allocation频繁，导致堆内存溢出。
分析：大对象直接进入老年代，再次请求申请老年代空间不足时，触发fullGC，如果之前的大对象不再用可以回收，短时间内还在用回收不掉，（间隔一分钟两次分配大对象）再次分配大对象空间不足，溢出。）

2、Kafka队列阻塞问题：

3、redis持久化导致eventLoop线程阻塞问题

项目中用到的设计模式：

单例模式，连接milvus服务端的配置类、

模板方法模式，判断文章或图集是否相似，通用父类，传参一样，string类型hash值，内容id，通过不同方式比对相似在子类中实现。

策略模式，计算文本hash值，有minhash和simhash两种方式，通过抽象策略类或接口定义获取hash值方法，通过两个实现类定义计算hash值的不同策略的具体实现。

适配器模式：新加接口的时候，原有的逻辑差不多，只是入参不同，加部分逻辑。 新建一个接口，在实际工作中，适配器模式大多用在代码后期维护，和复用代码以及改写工具类。

工厂模式：静态(静态)工厂模式，工厂方法模式，抽象工厂模式

spring用到了哪些设计模式：

- [BeanFactory](https://github.com/spring-projects/spring-framework/blob/master/spring-beans/src/main/java/org/springframework/beans/factory/BeanFactory.java)和[ApplicationContext](https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/context/ApplicationContext.java)应用了工厂模式。
- 在 Bean 的创建中，Spring 也为不同 scope 定义的对象，提供了单例和原型等模式实现。
- AOP 领域则是使用了代理模式、装饰器模式、适配器模式等。
- 各种事件监听器，是观察者模式的典型应用。
- 类似 JdbcTemplate 等则是应用了模板模式。



离职原因：

第一家公司，进入的是一家创业型公司，刚入职三个月没发工资，刚毕业维持不了生活。

第二家公司，是一家互联网金融公司，刚开始公司发展挺好的，待了一年半，涨过三次薪资，每两个月有一次绩效奖，年底有年终奖。不过，2018年年初公司受国家政策和和催收事情的其它原因，出现一些变故，领导给大家开了个会，那意思是说公司很有可能就解散了，当时大部分同事也是都离职了，所以就决定离职走了。

第三家公司，凤凰网，一是公司的晋升体系不太好，职级晋升但是不跟工资挂钩，我入职后晋升了两次，没涨过工资，涨薪依据没看出来是啥，可能是我们做的这块业务不受重视，不重要。二是业务发展这块，自媒体业务中间经过几次变动，后来就处于停滞的状态，感觉以后很有可能关掉自媒体业务，所以对于个人发展包括技术发展，以后的涨薪晋升都不友好，决定出来看看有什么合适的机会。

期望去的公司：一是公司具有完善的晋升体系，二是团队优秀，能跟着大佬学习提升自我，三是对于我这边负责的模块来说，能在技术方面或者业务方面对我能有不错的提升空间，能从中成长，有不少收获。





各公司二面情况总结：

鲸算科技二面：交叉面试跟一面问的问题相当，深度及广度差不多，重视基础。

一起作业网二面：关注组件的设计及实现方面，最好懂其中的原理越细致越好，框架相关的知识

58二面：问项目，项目的设计，常见的组件相关的经典问题。（交叉面）

火花思维二面：问项目系统设计细节，以及实现细节，以及项目的技术选型。是否注重系统高可用，稳定性、易扩展

跟谁学二面：涉及到技术知识的深度，设计场景题，详细说出自己的实现。

京东二面：会问一些比较实际的问题，项目中或工作中经常使用到的技术或踩的坑，比如threadlocal。比如遇到缓存击穿、雪崩如何避免如何解决。线上问题如何排查，如何快速解决。

小米二面：问到技术知识的深度，问到jdk源码层面，算法题，实现阻塞队列

自如二面：问到非业务实现的题，而是系统设计，系统稳定性保障，技术选型，场景设计与实现题。

贝壳二面：框架相关的题，在工作上涉及到框架以及组件的使用上的题，具体如何使用，如何避免踩坑，具体想要了解在实际项目中有没有用到。

百度二面：系统设计，场景设计题，紧急线上问题如何解决，开发时，是否考虑系统或接口高可用，效率方面问题，有没有持续学习的习惯，看过哪些书，是否有自我驱动去学习。

滴滴二面：组件以及框架上为什么如何设计的问题，jdk为什么这样实现的问题，抛出一个算法题，说下思路，考察你考虑问题是否全面严谨。

快手二面：项目的详细设计，项目中涉及到难点在哪，自己负责的项目崩了会出现什么问题，如何避免，如果真产生了如何快速修复问题带来的损失。spring框架相关的问题，通过问相关问题了解到你在项目中具体的使用情况，期望懂框架基本运行机制的同时，能熟练使用框架，甚至说实际真正用过各种场景或框架的组件更佳。



二面自我总结：

一、在基础知识扎实的基础上，再进一步深入了解底层，做到给面试官的感觉是，基础知识扎实，同时又有一定的深度。

（平时注意：1-多积累，2-多思考，3-同时常用到的必备基础知识需要系统的学习。

1->积累什么？积累工作中遇到的问题，踩过的坑，以及知识的亮点运用。

2->思考什么？skiplist，对于自己的工作以及未来规划多梳理多总结并及时调整变动。梳理近阶段工作，总结学习到了什么，收获了什么，有哪些方面成长，又有哪些方面的不足。

3->如何系统的学习，看相关的书籍同时看源码，动手操作写demo尽可能应用到实际项目中。）

二、1、项目设计细节，项目难点有哪些？项目目前还需要优化的点有哪些？

2、框架相关的题。注重实际项目中使用情况，关注你在实际项目中是否很好的灵活的使用了。为什么这样使用，是否关注了框架这样设计的好处，你是否用对了。

3、问组件的原理及设计，问什么这样设计，这样设计的好处以及为了解决什么问题，进而关联到系统设计及场景设计题。通过这个分析你实际项目经验是否足够丰富，同时考察逻辑思维以及表达能力

4、实际开发中，除了功能实现，是否会考虑服务或接口的可用性，稳定性，考虑到最坏情况，（考虑到服务的要求是什么，需要高并发、高性能、高可用）服务宕机如何避免，如果宕机了如何快速恢复并修复期间丢失的数据等。

其实就是需要对开发这个服务了如指掌，了解到它的方方面面。针对服务相对应的指标去衡量它。

5、线上紧急问题相关，解决过哪些大事故或线上问题，如何解决的？给出一个线上问题的场景题，问如何定位和排查，而后如何解决。

6、平时都怎么去学习提升自己技术的？最近看了哪些书，举例说明（举mysql的掘金小册，dubbo相关的官方文档）最近在梳理知识点以及在公司做的项目，做一些总结与思考，准备去面试，最近系统看的书比较少。会问通过这些书或技术文档收获了什么，来以此验证你是否真正看了这些书。

7、优缺点：会问一些性格方面的问题，优缺点：优点：对工作比较负责，做事情比较专注，细致认真，为人处世都比较靠谱。缺点：说话比较直，话比较少，比较慢热，说话锻炼表达能力以及语言组织能力，这方面没有达到我的预期。2.如何处理同事之间矛盾，如何处理与产品或上级领导之间的需求冲突等。3.有哪些兴趣爱好，平时业余时间都做些什么？

8、未来的职业规划，近3年（稳固现有常见的技术，关注新技术，多做事情，多思考，关注跟人沟通打交道这方面的技巧为做管理层储备。），近5年的规划（往管理方向去走，做业务leader）。（对于所面的岗位的业务是否有了解过，通过这个问题来了解你对公司此岗位的意向是否大。）



各公司三面情况总结：

小米三面：会问算法题，以及项目设计相关的题，对没有标准答案的题，尽量思考清楚之后，清晰表达出来自己的想法，尽量多说一些有价值有技术含量的信息。面试官想要的可能是你的清晰的思路，从此看出来你解决问题的能力，同时能落地，能写出来。

58三面：项目挂了会触发什么问题，如何保证项目的稳定性，如何定位及紧急修复问题，以及后续数据恢复处理。对面的岗位的业务是否有了解，通过这个问题来了解你对公司此岗位的意向是否大。

贝壳三面（四面）：平时都怎么去学习提升自己技术的？最近看了哪些书，举例说明（举mysql的掘金小册，dubbo相关的官方文档）最近在梳理知识点以及在公司做的项目，准备去面试，系统看的书比较少。会问通过这些书或技术文档收获了什么，来以此验证你是否真正看了这些书。

鲸算科技三面：1.会问一些性格方面的问题，优缺点：优点：对工作比较负责，做事情比较专注，细致认真，为人处世都比较靠谱。缺点：。2.如何处理同事之间矛盾，如何处理与产品或上级领导之间的需求冲突等。3.有哪些兴趣爱好，平时业余时间都做些什么？

火花思维三面：交叉面的二面，1.问一些技术，以及设计方面的题；2.未来期望做什么样的业务，会有怎样的规划。

跟谁学三面：1.大的方向的场景设计题，注重你的思路是否清晰，思考问题的思维方式是否恰当，关注你技术的广度。2.平时怎么进行技术提升的，需要举出具体的例子，最近看了哪些书？可以举例说出来，不只是技术方面的书。3.未来的职业规划，近3年，近5年的规划。4.有可能会问到一些框架或者组件的设计，他们为何如此设计，这样设计的好处以及为了解决什么问题。

三面自我总结：同二面自我总结



